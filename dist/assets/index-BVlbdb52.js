var ke=Object.defineProperty,Ne=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var ie=(s,a,t)=>a in s?ke(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,C=(s,a)=>{for(var t in a||(a={}))we.call(a,t)&&ie(s,t,a[t]);if(ne)for(var t of ne(a))Pe.call(a,t)&&ie(s,t,a[t]);return s},T=(s,a)=>Ne(s,Se(a));var Ce=(s,a)=>()=>(a||s((a={exports:{}}).exports,a),a.exports);var y=(s,a,t)=>new Promise((r,n)=>{var l=g=>{try{o(t.next(g))}catch(x){n(x)}},c=g=>{try{o(t.throw(g))}catch(x){n(x)}},o=g=>g.done?r(g.value):Promise.resolve(g.value).then(l,c);o((t=t.apply(s,a)).next())});import{r as h,a as Ie,b as Te}from"./vendor-DEgZS6Kp.js";import{u as me,a as De,L as Re,O as Oe,N as he,B as Ee,R as Me,b as B}from"./router-DsBxKuGD.js";import{c as Ae}from"./supabase-DIzx8LMA.js";var bt=Ce(M=>{(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();var ue={exports:{}},ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=h,qe=Symbol.for("react.element"),Be=Symbol.for("react.fragment"),_e=Object.prototype.hasOwnProperty,ze=Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fe={key:!0,ref:!0,__self:!0,__source:!0};function pe(s,a,t){var r,n={},l=null,c=null;t!==void 0&&(l=""+t),a.key!==void 0&&(l=""+a.key),a.ref!==void 0&&(c=a.ref);for(r in a)_e.call(a,r)&&!Fe.hasOwnProperty(r)&&(n[r]=a[r]);if(s&&s.defaultProps)for(r in a=s.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:qe,type:s,key:l,ref:c,props:n,_owner:ze.current}}ee.Fragment=Be;ee.jsx=pe;ee.jsxs=pe;ue.exports=ee;var e=ue.exports,ae={},le=Ie;ae.createRoot=le.createRoot,ae.hydrateRoot=le.hydrateRoot;const We="JusGoPOS_Offline",Ke=1;class He{constructor(){this.db=null,this.initDB()}initDB(){return y(this,null,function*(){return new Promise((a,t)=>{const r=indexedDB.open(We,Ke);r.onerror=()=>{t(r.error)},r.onsuccess=()=>{this.db=r.result,a(this.db)},r.onupgradeneeded=n=>{const l=n.target.result;if(!l.objectStoreNames.contains("transactions")){const c=l.createObjectStore("transactions",{keyPath:"id",autoIncrement:!0});c.createIndex("timestamp","timestamp",{unique:!1}),c.createIndex("status","status",{unique:!1})}if(!l.objectStoreNames.contains("products")){const c=l.createObjectStore("products",{keyPath:"id"});c.createIndex("name","name",{unique:!1}),c.createIndex("category","category",{unique:!1})}if(!l.objectStoreNames.contains("stock_movements")){const c=l.createObjectStore("stock_movements",{keyPath:"id",autoIncrement:!0});c.createIndex("product_id","product_id",{unique:!1}),c.createIndex("timestamp","timestamp",{unique:!1})}}})})}saveOfflineTransaction(a){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,r)=>{const n=this.db.transaction(["transactions"],"readwrite"),l=n.objectStore("transactions"),c=T(C({},n),{timestamp:new Date().toISOString(),status:"offline",synced:!1}),o=l.add(c);o.onsuccess=()=>{t(o.result)},o.onerror=()=>{r(o.error)}})})}getOfflineTransactions(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((a,t)=>{const c=this.db.transaction(["transactions"],"readonly").objectStore("transactions").index("status").getAll("offline");c.onsuccess=()=>{a(c.result||[])},c.onerror=()=>{t(c.error)}})})}markTransactionSynced(a){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,r)=>{const l=this.db.transaction(["transactions"],"readwrite").objectStore("transactions"),c=l.get(a);c.onsuccess=()=>{const o=c.result;if(o){o.status="synced",o.synced=!0,o.syncedAt=new Date().toISOString();const g=l.put(o);g.onsuccess=()=>t(),g.onerror=()=>r(g.error)}else r(new Error("Transaction not found"))},c.onerror=()=>{r(c.error)}})})}removeOfflineTransaction(a){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,r)=>{const c=this.db.transaction(["transactions"],"readwrite").objectStore("transactions").delete(a);c.onsuccess=()=>{t()},c.onerror=()=>{r(c.error)}})})}cacheProducts(a){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,r)=>{const n=this.db.transaction(["products"],"readwrite"),l=n.objectStore("products");l.clear(),a.forEach(c=>{l.add(T(C({},c),{cachedAt:new Date().toISOString()}))}),n.oncomplete=()=>{t()},n.onerror=()=>{r(n.error)}})})}getCachedProducts(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((a,t)=>{const l=this.db.transaction(["products"],"readonly").objectStore("products").getAll();l.onsuccess=()=>{a(l.result||[])},l.onerror=()=>{t(l.error)}})})}saveOfflineStockMovement(a){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((t,r)=>{const l=this.db.transaction(["stock_movements"],"readwrite").objectStore("stock_movements"),c=T(C({},a),{timestamp:new Date().toISOString(),status:"offline",synced:!1}),o=l.add(c);o.onsuccess=()=>{t(o.result)},o.onerror=()=>{r(o.error)}})})}getOfflineStockMovements(){return y(this,null,function*(){return this.db||(yield this.initDB()),new Promise((a,t)=>{const c=this.db.transaction(["stock_movements"],"readonly").objectStore("stock_movements").index("status").getAll("offline");c.onsuccess=()=>{a(c.result||[])},c.onerror=()=>{t(c.error)}})})}isOnline(){return navigator.onLine}syncOfflineData(){return y(this,null,function*(){if(this.isOnline())try{const a=yield this.getOfflineTransactions();for(const r of a)try{(yield fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(yield this.markTransactionSynced(r.id))}catch(n){}const t=yield this.getOfflineStockMovements();for(const r of t)try{(yield fetch("/api/stock-movements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(yield this.removeOfflineTransaction(r.id))}catch(n){}}catch(a){}})}}const oe=new He,xe=()=>{const[s,a]=h.useState(navigator.onLine),[t,r]=h.useState(!1),[n,l]=h.useState(null),[c,o]=h.useState(!1);return h.useEffect(()=>{(()=>{const D=window.matchMedia("(display-mode: standalone)").matches,P=window.navigator.standalone===!0;r(D||P)})();const N=()=>{a(!0),oe.syncOfflineData()},f=()=>{a(!1)},S=D=>{D.preventDefault(),l(D),o(!0)},p=()=>{r(!0),o(!1),l(null)};return window.addEventListener("online",N),window.addEventListener("offline",f),window.addEventListener("beforeinstallprompt",S),window.addEventListener("appinstalled",p),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",f),window.removeEventListener("beforeinstallprompt",S),window.removeEventListener("appinstalled",p)}},[]),{isOnline:s,isInstalled:t,showInstallPrompt:c,installApp:()=>y(M,null,function*(){if(!n)return!1;try{n.prompt();const{outcome:b}=yield n.userChoice;return b==="accepted"?(o(!1),l(null),!0):!1}catch(b){return!1}}),dismissInstallPrompt:()=>{o(!1),l(null)},offlineStorage:oe}},Ue=()=>{const{isInstalled:s,showInstallPrompt:a,installApp:t,dismissInstallPrompt:r}=xe();if(s||!a)return null;const n=()=>y(M,null,function*(){yield t()});return e.jsxs("div",{className:"pwa-install-banner",style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",background:"linear-gradient(135deg, #3b82f6, #1e40af)",color:"white",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"400px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"ðŸ“±"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"2px"},children:"Install JusGor POS"}),e.jsx("div",{style:{fontSize:"12px",opacity:.9},children:"Akses cepat dari home screen"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:n,style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"8px 16px",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:l=>{l.target.style.background="rgba(255, 255, 255, 0.3)"},onMouseOut:l=>{l.target.style.background="rgba(255, 255, 255, 0.2)"},children:"Install"}),e.jsx("button",{onClick:r,style:{background:"transparent",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:l=>{l.target.style.background="rgba(255, 255, 255, 0.1)"},onMouseOut:l=>{l.target.style.background="transparent"},children:"âœ•"})]})]})},Je=()=>{const{isOnline:s}=xe();return s?null:e.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 24px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"white",animation:"pulse 2s infinite"}}),"Mode Offline - Data akan disinkronkan saat online"]})},$e=()=>{var c;const s=me(),a=De(),t=JSON.parse(localStorage.getItem("user")||"{}"),r=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s("/login")},n=o=>a.pathname===o,l=[{path:"/dashboard",label:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{path:"/products",label:"Produk",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{path:"/stock",label:"Stok",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},{path:"/pos",label:"POS",icon:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"},{path:"/open-order",label:"Open Order",icon:"M9 17v-6a2 2 0 012-2h2a2 2 0 012 2v6m-6 0h6"},{path:"/riwayat-transaksi",label:"Riwayat Transaksi",icon:"M12 8v4l3 3m6 0a9 9 0 11-18 0 9 9 0 0118 0z"},{path:"/kalkulator-hpp",label:"Kalkulator HPP",icon:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm0 0v4h14V5a2 2 0 00-2-2H5a2 2 0 00-2 2zm0 4v10a2 2 0 002 2h10a2 2 0 002-2V9H5z"},{path:"/promo",label:"Promo",icon:"M5 13l4 4L19 7"},{path:"/belanja-bahan",label:"Belanja Bahan",icon:"M3 3h18v2H3V3zm0 4h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2zm0 4h18v2H3v-2z"},{path:"/reports",label:"Laporan",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}];return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsxs("div",{className:"w-64 bg-white shadow-lg fixed h-full",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:"JusGor POS"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"v1.0 Beta"})]}),e.jsx("nav",{className:"px-4 space-y-2",children:l.map(o=>e.jsxs(Re,{to:o.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition ${n(o.path)?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:o.icon})}),e.jsx("span",{children:o.label})]},o.path))}),e.jsxs("div",{className:"absolute bottom-0 w-64 p-4 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:(c=t.name)==null?void 0:c.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.role})]})]}),e.jsx("button",{onClick:r,className:"w-full bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition",children:"Logout"})]})]}),e.jsx("div",{className:"ml-64 flex-1 p-8",children:e.jsx(Oe,{})}),e.jsx(Je,{}),e.jsx(Ue,{})]})},W=({children:s})=>localStorage.getItem("user")!==null?s:e.jsx(he,{to:"/login",replace:!0}),Ge=()=>{const[s,a]=h.useState(""),[t,r]=h.useState(""),[n,l]=h.useState(!1),[c,o]=h.useState(""),g=me(),x=b=>y(M,null,function*(){b.preventDefault(),l(!0),o("");try{if(s&&t){const N={id:1,name:"Admin",email:s,role:"admin"};localStorage.setItem("user",JSON.stringify(N)),setTimeout(()=>{l(!1),g("/dashboard")},1e3)}else o("Email dan password harus diisi"),l(!1)}catch(N){o("Terjadi kesalahan saat login"),l(!1)}});return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"1rem"},children:e.jsxs("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",marginBottom:"0.5rem"},children:"POS System"}),e.jsx("p",{style:{color:"#64748b"},children:"Masuk ke akun Anda"})]}),c&&e.jsx("div",{className:"alert alert-error",children:c}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-input",value:s,onChange:b=>a(b.target.value),placeholder:"Masukkan email",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:"form-input",value:t,onChange:b=>r(b.target.value),placeholder:"Masukkan password",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:n,children:n?"Memproses...":"Masuk"})]})]})})},Xe=()=>"https://vwnfdzgkhibdlpcygdkp.supabase.co",Ve=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ3bmZkemdraGliZGxwY3lnZGtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxOTMyMjcsImV4cCI6MjA3NDc2OTIyN30.cAcyxtk93JeQhcTOrGzw6XVdNLCIlgSUPcSRFY_kV5c",Ze=Xe(),Qe=Ve(),w=Ae(Ze,Qe),Q={getProducts(){return y(this,null,function*(){try{const{data:s,error:a}=yield w.from("products").select("*").order("createdAt",{ascending:!1});if(a)throw a;return s}catch(s){throw s}})},getProduct(s){return y(this,null,function*(){try{const{data:a,error:t}=yield w.from("products").select("*").eq("id",s).single();if(t)throw t;return a}catch(a){throw a}})},createProduct(s){return y(this,null,function*(){try{const{data:a,error:t}=yield w.from("products").insert([s]).select().single();if(t)throw t;return a}catch(a){throw a}})},updateProduct(s,a){return y(this,null,function*(){try{const{data:t,error:r}=yield w.from("products").update(a).eq("id",s).select().single();if(r)throw r;return t}catch(t){throw t}})},deleteProduct(s){return y(this,null,function*(){try{const{error:a}=yield w.from("products").delete().eq("id",s);if(a)throw a;return!0}catch(a){throw a}})},updateStock(s,a){return y(this,null,function*(){try{const{data:t,error:r}=yield w.from("products").update({stock:a}).eq("id",s).select().single();if(r)throw r;return t}catch(t){throw t}})},searchProducts(s){return y(this,null,function*(){try{const{data:a,error:t}=yield w.from("products").select("*").or(`name.ilike.%${s}%,category.ilike.%${s}%`).order("createdAt",{ascending:!1});if(t)throw t;return a}catch(a){throw a}})}},Ye=()=>{const[s,a]=h.useState({totalProducts:0,totalSales:0,totalRevenue:0,lowStock:0}),[t,r]=h.useState([]),[n,l]=h.useState([]),[c,o]=h.useState([]),[g,x]=h.useState([]),[b,N]=h.useState(!0),f=JSON.parse(localStorage.getItem("user")||"{}");h.useEffect(()=>{S(),p(),D()},[]);const S=()=>y(M,null,function*(){try{const{data:u,error:k}=yield w.from("products").select("*");if(k)throw k;const{data:m,error:d}=yield w.from("transactions").select("*");if(d)throw d;const O=(u==null?void 0:u.length)||0,I=(u==null?void 0:u.filter(q=>q.stock<=q.minStock).length)||0,A=(m==null?void 0:m.length)||0,_=(m==null?void 0:m.reduce((q,z)=>q+(z.total||0),0))||0;a({totalProducts:O,totalSales:A,totalRevenue:_,lowStock:I})}catch(u){}finally{N(!1)}}),p=()=>y(M,null,function*(){try{const{data:u,error:k}=yield w.from("products").select("*").order("stock",{ascending:!1}).limit(5);if(k)throw k;r(u||[])}catch(u){}}),D=()=>y(M,null,function*(){try{const{data:u,error:k}=yield w.from("transactions").select("*").order("created_at",{ascending:!1});if(k)throw k;const m={},d={},O={};u==null||u.forEach(I=>{const A=new Date(I.created_at),_=A.toISOString().split("T")[0],q=P(A),z=A.toISOString().slice(0,7);m[_]=(m[_]||0)+(I.total||0),d[q]=(d[q]||0)+(I.total||0),O[z]=(O[z]||0)+(I.total||0)}),l(Object.entries(m).map(([I,A])=>({date:I,total:A}))),o(Object.entries(d).map(([I,A])=>({week:I,total:A}))),x(Object.entries(O).map(([I,A])=>({month:I,total:A})))}catch(u){}}),P=u=>{const k=u.getFullYear(),m=u.getMonth()+1,d=Math.ceil((u.getDate()-1)/7)+1;return`${k}-${String(m).padStart(2,"0")}-W${d}`},v=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u);return b?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-lg",children:"Loading..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Selamat datang, ",f.name||"User","!"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Produk"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.totalProducts})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“¦"})})]}),e.jsx("p",{className:"text-sm text-green-600 mt-2",children:"Produk aktif"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Transaksi"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.totalSales})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"})})]}),e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Semua waktu"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Pendapatan"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:v(s.totalRevenue)})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"ðŸ’°"})})]}),e.jsx("p",{className:"text-sm text-yellow-600 mt-2",children:"Semua waktu"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-red-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Stok Rendah"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.lowStock})]}),e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx("span",{className:"text-2xl",children:"âš ï¸"})})]}),e.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Perlu restok"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pendapatan Bulan Ini"})}),e.jsx("div",{className:"text-3xl font-bold text-green-600",children:v(s.totalRevenue)}),e.jsxs("div",{className:"text-gray-500 mt-2",children:["Target: ",v(s.totalRevenue*1.2)]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Target Bulan Ini"})}),e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v(s.totalRevenue*1.2)}),e.jsxs("div",{className:"text-gray-500 mt-2",children:["Progress: ",Math.round(s.totalRevenue/(s.totalRevenue*1.2)*100),"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Produk Terlaris"})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produk"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Harga Jual"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stok"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(u=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"ðŸ“¦"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",u.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v(u.sellPrice)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[u.stock," ",u.unit]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.stock<=u.minStock?e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Stok Rendah"}):e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Tersedia"})})]},u.id))})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Belum ada data produk"})]}),n.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Grafik Penjualan"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Per Hari"}),e.jsx("div",{className:"h-48 overflow-auto",children:n.map((u,k)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:u.date}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v(u.total)})]},k))})]})]})]})},et=()=>y(M,null,function*(){try{const{data:s,error:a}=yield w.from("products").select("id, name, sku").limit(1);return a?{success:!1,error:a.message}:{success:!0,data:s}}catch(s){return{success:!1,error:s.message}}}),tt=()=>{const[s,a]=h.useState([]),[t,r]=h.useState(!0),[n,l]=h.useState(null),[c,o]=h.useState(!1),[g,x]=h.useState(null),[b,N]=h.useState(""),[f,S]=h.useState({name:"",sellPrice:"",stock:"",category:"",description:"",sku:"",minStock:5,unit:"pcs",buyPrice:0});h.useEffect(()=>{p()},[]);const p=()=>y(M,null,function*(){try{r(!0);const m=yield et();if(!m.success)throw new Error(`Database connection failed: ${m.error}`);const d=yield Q.getProducts();a(d||[])}catch(m){l(`Database error: ${m.message}`)}finally{r(!1)}}),D=m=>y(M,null,function*(){m.preventDefault();try{const d=T(C({},f),{sellPrice:parseFloat(f.sellPrice),buyPrice:parseFloat(f.buyPrice),stock:parseInt(f.stock),minStock:parseInt(f.minStock)});g?yield Q.updateProduct(g.id,d):yield Q.createProduct(d),yield p(),u()}catch(d){l("Gagal menyimpan produk")}}),P=m=>{x(m),S({name:m.name||"",sellPrice:m.sellPrice||"",buyPrice:m.buyPrice||"",stock:m.stock||"",category:m.category||"",description:m.description||"",sku:m.sku||"",minStock:m.minStock||5,unit:m.unit||"pcs"}),o(!0)},v=m=>y(M,null,function*(){if(window.confirm("Apakah Anda yakin ingin menghapus produk ini?"))try{yield Q.deleteProduct(m),yield p()}catch(d){l("Gagal menghapus produk")}}),u=()=>{S({name:"",sellPrice:"",buyPrice:"",stock:"",category:"",description:"",sku:"",minStock:5,unit:"pcs"}),x(null),o(!1)},k=m=>y(M,null,function*(){if(N(m),m.trim())try{const d=yield Q.searchProducts(m);a(d||[])}catch(d){}else yield p()});return t?e.jsx("div",{className:"loading",children:e.jsx("div",{className:"spinner"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Manajemen Produk"}),e.jsx("p",{className:"page-subtitle",children:"Kelola produk dan stok"})]}),n&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("h3",{children:"Error"}),e.jsx("p",{children:n}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{l(null),p()},children:"Coba Lagi"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Daftar Produk"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Cari produk...",className:"form-input",style:{width:"200px"},value:b,onChange:m=>k(m.target.value)}),e.jsx("button",{className:"btn btn-primary",onClick:()=>o(!c),children:c?"Batal":"Tambah Produk"})]})]}),c&&e.jsxs("form",{onSubmit:D,style:{marginBottom:"1.5rem",padding:"1rem",background:"#f8fafc",borderRadius:"0.5rem"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nama Produk"}),e.jsx("input",{type:"text",className:"form-input",value:f.name,onChange:m=>S(T(C({},f),{name:m.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"SKU"}),e.jsx("input",{type:"text",className:"form-input",value:f.sku,onChange:m=>S(T(C({},f),{sku:m.target.value})),placeholder:"Kode produk"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Harga Jual"}),e.jsx("input",{type:"number",className:"form-input",value:f.sellPrice,onChange:m=>S(T(C({},f),{sellPrice:m.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Harga Beli"}),e.jsx("input",{type:"number",className:"form-input",value:f.buyPrice,onChange:m=>S(T(C({},f),{buyPrice:m.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Stok"}),e.jsx("input",{type:"number",className:"form-input",value:f.stock,onChange:m=>S(T(C({},f),{stock:m.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Min. Stok"}),e.jsx("input",{type:"number",className:"form-input",value:f.minStock,onChange:m=>S(T(C({},f),{minStock:m.target.value})),placeholder:"5"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Satuan"}),e.jsxs("select",{className:"form-input",value:f.unit,onChange:m=>S(T(C({},f),{unit:m.target.value})),children:[e.jsx("option",{value:"pcs",children:"Pcs"}),e.jsx("option",{value:"kg",children:"Kg"}),e.jsx("option",{value:"gram",children:"Gram"}),e.jsx("option",{value:"liter",children:"Liter"}),e.jsx("option",{value:"ml",children:"ML"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kategori"}),e.jsxs("select",{className:"form-input",value:f.category,onChange:m=>S(T(C({},f),{category:m.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"Pilih Kategori"}),e.jsx("option",{value:"Makanan",children:"Makanan"}),e.jsx("option",{value:"Minuman",children:"Minuman"}),e.jsx("option",{value:"Snack",children:"Snack"}),e.jsx("option",{value:"Dessert",children:"Dessert"}),e.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Deskripsi"}),e.jsx("textarea",{className:"form-input",value:f.description,onChange:m=>S(T(C({},f),{description:m.target.value})),rows:"3",placeholder:"Deskripsi produk (opsional)"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{type:"submit",className:"btn btn-success",children:g?"Update Produk":"Simpan Produk"}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:u,children:"Batal"})]})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nama Produk"}),e.jsx("th",{children:"SKU"}),e.jsx("th",{children:"Harga Jual"}),e.jsx("th",{children:"Harga Beli"}),e.jsx("th",{children:"Stok"}),e.jsx("th",{children:"Min. Stok"}),e.jsx("th",{children:"Satuan"}),e.jsx("th",{children:"Kategori"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:b?"Tidak ada produk yang ditemukan":"Belum ada produk"})}):s.map(m=>{var d,O;return e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("div",{style:{fontWeight:"600"},children:m.name}),m.description&&e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.25rem"},children:m.description})]}),e.jsx("td",{children:m.sku||"-"}),e.jsxs("td",{children:["Rp ",((d=m.sellPrice)==null?void 0:d.toLocaleString())||"0"]}),e.jsxs("td",{children:["Rp ",((O=m.buyPrice)==null?void 0:O.toLocaleString())||"0"]}),e.jsx("td",{children:e.jsx("span",{style:{color:m.stock<=m.minStock?"#ef4444":"#10b981",fontWeight:"500"},children:m.stock||0})}),e.jsx("td",{children:m.minStock||0}),e.jsx("td",{children:m.unit||"pcs"}),e.jsx("td",{children:m.category}),e.jsx("td",{children:m.stock<=m.minStock?e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#fecaca",color:"#991b1b"},children:"Stok Rendah"}):e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#dcfce7",color:"#166534"},children:"Normal"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-secondary",style:{marginRight:"0.5rem",fontSize:"0.75rem"},onClick:()=>P(m),children:"Edit"}),e.jsx("button",{className:"btn btn-danger",style:{fontSize:"0.75rem"},onClick:()=>v(m.id),children:"Hapus"})]})]},m.id)})})]})})]})]})},re=(s="",a="")=>y(M,null,function*(){let t=w.from("products").select("*");s&&(t=t.ilike("name",`%${s}%`)),a&&(t=t.eq("category",a));const{data:r,error:n}=yield t;return n?[]:r||[]}),st=(s=null)=>y(M,null,function*(){try{let a=w.from("stock_movements").select("*, product:products(*)").order("created_at",{ascending:!1}).limit(100);s&&(a=a.eq("product_id",s));const{data:t,error:r}=yield a;if(r)throw r;return t||[]}catch(a){return[]}}),at=(s,a,t)=>y(M,null,function*(){var r;try{const{data:n}=yield w.auth.getUser();if(!((r=n==null?void 0:n.user)!=null&&r.id))throw new Error("Sesi login telah berakhir. Silakan login ulang.");const{data:l,error:c}=yield w.from("stock_movements").insert([{product_id:s,type:"in",qty:a,description:t||""}]).select("*, product:products(*)").single();if(c)throw new Error("Gagal mencatat pergerakan stok");const{error:o}=yield w.rpc("increment_stock",{p_product_id:s,p_quantity:a});if(o){try{yield w.from("stock_movements").delete().eq("id",l.id)}catch(g){}throw new Error("Gagal memperbarui stok")}return l}catch(n){throw n}}),rt=(s,a,t)=>y(M,null,function*(){var r;try{const{data:n}=yield w.auth.getUser();if(!((r=n==null?void 0:n.user)!=null&&r.id))throw new Error("Sesi login telah berakhir. Silakan login ulang.");const{data:l,error:c}=yield w.from("products").select("stock").eq("id",s).single();if(c)throw new Error("Gagal memeriksa stok produk");if(((l==null?void 0:l.stock)||0)<a)throw new Error("Stok tidak mencukupi");const{data:o,error:g}=yield w.from("stock_movements").insert([{product_id:s,type:"out",qty:a,description:t||""}]).select("*, product:products(*)").single();if(g)throw new Error("Gagal mencatat pergerakan stok");const{error:x}=yield w.rpc("decrement_stock",{p_product_id:s,p_quantity:a});if(x){try{yield w.from("stock_movements").delete().eq("id",o.id)}catch(b){}throw new Error("Gagal memperbarui stok")}return o}catch(n){throw n}}),ge=s=>y(M,null,function*(){var P,v,u,k,m;const{data:a,error:t}=yield w.auth.getUser(),r=((P=a==null?void 0:a.user)==null?void 0:P.id)||null,n=Array.isArray(s.items)?s.items:[],l=n.reduce((d,O)=>{var I;return d+Number((I=O.subtotal)!=null?I:Number(O.price||0)*Number(O.qty||0))},0),c=(v=s.subtotal)!=null?v:l,o=(k=(u=s.discount)!=null?u:s.diskon)!=null?k:0,g=(m=s.total)!=null?m:Math.max(0,Number(c)-Number(o));new Date().toISOString();const x={payment_method:s.paymentMethod||"tunai",subtotal:c,discount:o,total:g,notes:s.notes||null,user_id:r},b={paymentMethod:s.paymentMethod||"tunai",subtotal:c,discount:o,total:g,notes:s.notes||null,userId:r},N={paymentmethod:s.paymentMethod||"tunai",subtotal:c,discount:o,total:g,notes:s.notes||null,userid:r};let f,S;if({data:f,error:S}=yield w.from("transactions").insert([x]).select(),S&&(S==null?void 0:S.code)==="PGRST204"&&({data:f,error:S}=yield w.from("transactions").insert([b]).select()),S&&(S==null?void 0:S.code)==="PGRST204"&&({data:f,error:S}=yield w.from("transactions").insert([N]).select()),S)throw S;const p=f==null?void 0:f[0];if(!p)throw new Error("Transaksi tidak dibuat");const D=p.id;if(n.length>0){const d=n.map(I=>{var A;return{transaction_id:D,product_id:I.productId,price:Number(I.price||0),qty:Number(I.qty||0),subtotal:Number((A=I.subtotal)!=null?A:Number(I.price||0)*Number(I.qty||0))}});let O;if({error:O}=yield w.from("transaction_items").insert(d),O)throw O;for(const I of n){const A=Number(I.qty)||0;if(!I.productId||A<=0)continue;const{error:_}=yield w.from("stock_movements").insert([{product_id:I.productId,qty:A,description:"Penjualan",type:"out"}]);if(_)throw _;const{data:q,error:z}=yield w.from("products").select("stock").eq("id",I.productId).single();if(z)throw z;const $=Math.max(0,((q==null?void 0:q.stock)||0)-A),{error:F}=yield w.from("products").update({stock:$}).eq("id",I.productId);if(F)throw F}}return C({id:D},p)}),nt=(s=null,a=null)=>y(M,null,function*(){let t,r,n="id, created_at, payment_method, subtotal, discount, total, notes, transaction_items(id, product_id, price, qty, subtotal, products(name))",l=w.from("transactions").select(n).order("created_at",{ascending:!1});if(s&&a&&(l=w.from("transactions").select(n).gte("created_at",`${s}T00:00:00.000Z`).lte("created_at",`${a}T23:59:59.999Z`).order("created_at",{ascending:!1})),{data:t,error:r}=yield l,r&&(r==null?void 0:r.code)==="PGRST204"){n="id, createdAt, paymentMethod, subtotal, discount, total, notes, transaction_items(id, productId, price, qty, subtotal, products(name))";let o=w.from("transactions").select(n).order("createdAt",{ascending:!1});s&&a&&(o=w.from("transactions").select(n).gte("createdAt",`${s}T00:00:00.000Z`).lte("createdAt",`${a}T23:59:59.999Z`).order("createdAt",{ascending:!1})),{data:t,error:r}=yield o}return r?[]:(Array.isArray(t)?t:[]).map(o=>{var x,b;const g=Array.isArray(o.transaction_items)?o.transaction_items.map(N=>{var f,S;return{productId:(f=N.product_id)!=null?f:N.productId,name:(S=N.products)==null?void 0:S.name,qty:Number(N.qty||0),price:Number(N.price||0),subtotal:Number(N.subtotal||Number(N.price||0)*Number(N.qty||0))}}):[];return{id:o.id,created_at:(x=o.created_at)!=null?x:o.createdAt,paymentMethod:(b=o.payment_method)!=null?b:o.paymentMethod,subtotal:Number(o.subtotal||0),discount:Number(o.discount||0),total:Number(o.total||0),notes:o.notes||"",items:g}})}),Y=()=>y(M,null,function*(){const{data:s,error:a}=yield w.from("open_orders").select("*").eq("status","open").order("created_at",{ascending:!1});return a?[]:s||[]}),it=s=>y(M,null,function*(){const{error:a}=yield w.from("open_orders").update({status:"sent"}).eq("id",s);if(a)throw a;return!0}),ce=s=>y(M,null,function*(){const a={id:s.id,customer:s.customer,items:JSON.stringify(s.items),total:Number(s.total||0),created_at:s.created_at||new Date().toISOString(),status:s.status||"open"},{data:t,error:r}=yield w.from("open_orders").insert([a]);if(r)throw r;return(t==null?void 0:t[0])||null}),de=s=>y(M,null,function*(){const{error:a}=yield w.from("open_orders").delete().eq("id",s);if(a)throw a;return!0}),lt=()=>{const[s,a]=h.useState([]),[t,r]=h.useState([]),[n,l]=h.useState(!0),[c,o]=h.useState(null);h.useEffect(()=>{g()},[]);const g=()=>y(M,null,function*(){try{l(!0);const p=yield re();r(p||[]),o(null)}catch(p){o("Gagal memuat data produk")}finally{l(!1)}}),x=p=>{if(p.stock<=0){alert("Stok produk habis!");return}const D=s.find(P=>P.id===p.id);if(D){if(D.quantity>=p.stock){alert(`Stok tidak mencukupi! Stok tersedia: ${p.stock}`);return}a(s.map(P=>P.id===p.id?T(C({},P),{quantity:P.quantity+1}):P))}else a([...s,T(C({},p),{quantity:1})])},b=p=>{a(s.filter(D=>D.id!==p))},N=(p,D)=>{if(D<=0)b(p);else{const P=t.find(v=>v.id===p);if(P&&D>P.stock){alert(`Stok tidak mencukupi! Stok tersedia: ${P.stock}`);return}a(s.map(v=>v.id===p?T(C({},v),{quantity:D}):v))}},f=()=>s.reduce((p,D)=>p+(D.price||0)*(D.quantity||0),0),S=()=>y(M,null,function*(){if(s.length!==0)try{const p={items:s.map(P=>({productId:P.id,name:P.name||"",price:P.price||0,qty:P.quantity||0,subtotal:(P.price||0)*(P.quantity||0)})),subtotal:f(),discount:0,total:f(),paymentMethod:"tunai",notes:""},D=yield ge(p);if(D&&D.id)alert(`Transaksi berhasil! ID: ${D.id}
Total: Rp ${f().toLocaleString()}`),a([]),g();else throw new Error("Transaksi gagal")}catch(p){alert(`Error: ${p.message||"Gagal memproses transaksi"}`)}});return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Kasir (POS)"}),e.jsx("p",{className:"page-subtitle",children:"Sistem Point of Sale"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1.5rem"},children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Daftar Produk"}),e.jsx("button",{className:"btn btn-secondary",onClick:g,style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},children:"Refresh"})]}),n?e.jsxs("div",{className:"loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Memuat data produk..."})]}):c?e.jsxs("div",{className:"alert alert-error",children:[c,e.jsx("button",{className:"btn btn-primary",onClick:g,style:{marginTop:"1rem"},children:"Coba Lagi"})]}):t.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:[e.jsx("p",{children:"Tidak ada produk tersedia"}),e.jsx("button",{className:"btn btn-primary",onClick:g,style:{marginTop:"1rem"},children:"Refresh"})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:t.map(p=>e.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",textAlign:"center"},children:[e.jsx("h4",{style:{marginBottom:"0.5rem"},children:p.name}),p.category&&e.jsx("p",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"0.5rem"},children:p.category}),e.jsxs("p",{style:{color:"#3b82f6",fontWeight:"bold",marginBottom:"0.5rem"},children:["Rp ",(p.price||0).toLocaleString()]}),e.jsxs("p",{style:{color:p.stock<=(p.minStock||5)?"#ef4444":"#64748b",fontSize:"0.875rem",marginBottom:"1rem",fontWeight:p.stock<=(p.minStock||5)?"bold":"normal"},children:["Stok: ",p.stock,p.stock<=(p.minStock||5)&&" (Stok Rendah)"]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>x(p),disabled:p.stock<=0,style:{width:"100%",opacity:p.stock<=0?.5:1,cursor:p.stock<=0?"not-allowed":"pointer"},children:p.stock<=0?"Stok Habis":"Tambah ke Keranjang"})]},p.id))})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Keranjang Belanja"})}),s.length===0?e.jsx("p",{style:{textAlign:"center",color:"#64748b",padding:"2rem"},children:"Keranjang kosong"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:s.map(p=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 0",borderBottom:"1px solid #e5e7eb"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"500"},children:p.name}),e.jsxs("div",{style:{color:"#64748b",fontSize:"0.875rem"},children:["Rp ",(p.price||0).toLocaleString()]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>N(p.id,p.quantity-1),style:{width:"24px",height:"24px",border:"1px solid #d1d5db",background:"white",borderRadius:"4px",cursor:"pointer"},children:"-"}),e.jsx("span",{style:{minWidth:"2rem",textAlign:"center"},children:p.quantity}),e.jsx("button",{onClick:()=>N(p.id,p.quantity+1),style:{width:"24px",height:"24px",border:"1px solid #d1d5db",background:"white",borderRadius:"4px",cursor:"pointer"},children:"+"}),e.jsx("button",{onClick:()=>b(p.id),className:"btn btn-danger",style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem"},children:"Hapus"})]})]},p.id))}),e.jsxs("div",{style:{borderTop:"2px solid #e5e7eb",paddingTop:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"bold",marginBottom:"1rem"},children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["Rp ",f().toLocaleString()]})]}),e.jsx("button",{className:"btn btn-success",onClick:S,disabled:s.length===0,style:{width:"100%",opacity:s.length===0?.5:1,cursor:s.length===0?"not-allowed":"pointer"},children:s.length===0?"Keranjang Kosong":"Proses Pembayaran"})]})]})]})]})]})},ot=()=>{const[s]=h.useState([{id:"TXN001",date:"2024-01-15",time:"14:30",items:"Kopi Hitam, Nasi Goreng",total:4e4,paymentMethod:"Cash",status:"Completed"},{id:"TXN002",date:"2024-01-15",time:"15:45",items:"Teh Manis, Mie Ayam",total:28e3,paymentMethod:"QRIS",status:"Completed"},{id:"TXN003",date:"2024-01-15",time:"16:20",items:"Kopi Hitam",total:15e3,paymentMethod:"Cash",status:"Completed"}]),[a,t]=h.useState("all"),[r,n]=h.useState(""),l=s.filter(o=>{const g=a==="all"||o.status.toLowerCase()===a,x=o.id.toLowerCase().includes(r.toLowerCase())||o.items.toLowerCase().includes(r.toLowerCase());return g&&x}),c=()=>s.reduce((o,g)=>o+g.total,0);return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Riwayat Transaksi"}),e.jsx("p",{className:"page-subtitle",children:"Lihat semua transaksi yang telah dilakukan"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#10b98120",color:"#10b981"},children:"ðŸ’°"}),e.jsxs("div",{className:"stat-value",style:{color:"#10b981"},children:["Rp ",c().toLocaleString()]}),e.jsx("div",{className:"stat-label",children:"Total Pendapatan"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#3b82f620",color:"#3b82f6"},children:"ðŸ“‹"}),e.jsx("div",{className:"stat-value",style:{color:"#3b82f6"},children:s.length}),e.jsx("div",{className:"stat-label",children:"Total Transaksi"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#8b5cf620",color:"#8b5cf6"},children:"ðŸ“Š"}),e.jsxs("div",{className:"stat-value",style:{color:"#8b5cf6"},children:["Rp ",Math.round(c()/s.length).toLocaleString()]}),e.jsx("div",{className:"stat-label",children:"Rata-rata per Transaksi"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Filter Transaksi"})}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{flex:1},children:[e.jsx("label",{className:"form-label",children:"Cari Transaksi"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Cari berdasarkan ID atau item...",value:r,onChange:o=>n(o.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{className:"form-input",value:a,onChange:o=>t(o.target.value),children:[e.jsx("option",{value:"all",children:"Semua"}),e.jsx("option",{value:"completed",children:"Selesai"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Transaksi"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID Transaksi"}),e.jsx("th",{children:"Tanggal & Waktu"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Metode Pembayaran"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:l.map(o=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:o.id}),e.jsxs("td",{children:[e.jsx("div",{children:o.date}),e.jsx("div",{style:{color:"#64748b",fontSize:"0.875rem"},children:o.time})]}),e.jsx("td",{children:o.items}),e.jsxs("td",{style:{fontWeight:"500"},children:["Rp ",o.total.toLocaleString()]}),e.jsx("td",{children:o.paymentMethod}),e.jsx("td",{children:e.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"500",backgroundColor:o.status==="Completed"?"#dcfce7":"#fef3c7",color:o.status==="Completed"?"#166534":"#92400e"},children:o.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-secondary",style:{fontSize:"0.75rem"},children:"Detail"})})]},o.id))})]})}),l.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"Tidak ada transaksi yang ditemukan"})]})]})},ct=()=>{const[s,a]=h.useState("today"),r={today:{revenue:125e4,transactions:12,topProducts:[{name:"Kopi Hitam",sold:8,revenue:12e4},{name:"Nasi Goreng",sold:5,revenue:125e3},{name:"Teh Manis",sold:10,revenue:8e4}]},week:{revenue:875e4,transactions:85,topProducts:[{name:"Kopi Hitam",sold:45,revenue:675e3},{name:"Nasi Goreng",sold:38,revenue:95e4},{name:"Mie Ayam",sold:42,revenue:84e4}]},month:{revenue:1575e4,transactions:156,topProducts:[{name:"Kopi Hitam",sold:89,revenue:1335e3},{name:"Nasi Goreng",sold:67,revenue:1675e3},{name:"Mie Ayam",sold:78,revenue:156e4}]}}[s];return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Laporan Penjualan"}),e.jsx("p",{className:"page-subtitle",children:"Analisis data penjualan dan performa bisnis"})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Pilih Periode Laporan"})}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{className:`btn ${s==="today"?"btn-primary":"btn-secondary"}`,onClick:()=>a("today"),children:"Hari Ini"}),e.jsx("button",{className:`btn ${s==="week"?"btn-primary":"btn-secondary"}`,onClick:()=>a("week"),children:"Minggu Ini"}),e.jsx("button",{className:`btn ${s==="month"?"btn-primary":"btn-secondary"}`,onClick:()=>a("month"),children:"Bulan Ini"})]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#10b98120",color:"#10b981"},children:"ðŸ’°"}),e.jsxs("div",{className:"stat-value",style:{color:"#10b981"},children:["Rp ",r.revenue.toLocaleString()]}),e.jsx("div",{className:"stat-label",children:"Total Pendapatan"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#3b82f620",color:"#3b82f6"},children:"ðŸ“‹"}),e.jsx("div",{className:"stat-value",style:{color:"#3b82f6"},children:r.transactions}),e.jsx("div",{className:"stat-label",children:"Total Transaksi"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{backgroundColor:"#8b5cf620",color:"#8b5cf6"},children:"ðŸ“Š"}),e.jsxs("div",{className:"stat-value",style:{color:"#8b5cf6"},children:["Rp ",Math.round(r.revenue/r.transactions).toLocaleString()]}),e.jsx("div",{className:"stat-label",children:"Rata-rata per Transaksi"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Produk Terlaris"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ranking"}),e.jsx("th",{children:"Nama Produk"}),e.jsx("th",{children:"Terjual"}),e.jsx("th",{children:"Pendapatan"}),e.jsx("th",{children:"Persentase"})]})}),e.jsx("tbody",{children:r.topProducts.map((n,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:l===0?"#fbbf24":l===1?"#9ca3af":"#cd7c2f",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:l+1})}),e.jsx("td",{style:{fontWeight:"500"},children:n.name}),e.jsxs("td",{children:[n.sold," pcs"]}),e.jsxs("td",{style:{fontWeight:"500"},children:["Rp ",n.revenue.toLocaleString()]}),e.jsxs("td",{children:[Math.round(n.revenue/r.revenue*100),"%"]})]},n.name))})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Grafik Penjualan"})}),e.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",borderRadius:"0.5rem",color:"#64748b"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ðŸ“ˆ"}),e.jsx("p",{children:"Grafik penjualan akan ditampilkan di sini"}),e.jsx("p",{style:{fontSize:"0.875rem"},children:"Fitur chart akan ditambahkan dengan library seperti Chart.js atau Recharts"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Export Laporan"})}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{className:"btn btn-primary",children:"ðŸ“„ Export PDF"}),e.jsx("button",{className:"btn btn-secondary",children:"ðŸ“Š Export Excel"}),e.jsx("button",{className:"btn btn-success",children:"ðŸ“§ Kirim Email"})]})]})]})};function dt(){const[s,a]=h.useState([]),[t,r]=h.useState([]),[n,l]=h.useState(!1),[c,o]=h.useState("in"),[g,x]=h.useState(null),[b,N]=h.useState(0),[f,S]=h.useState(""),[p,D]=h.useState(!1);h.useEffect(()=>{P()},[]);const P=()=>y(this,null,function*(){try{const[d,O]=yield Promise.all([re(),st()]);a(d||[]),r(O||[])}catch(d){alert("Terjadi kesalahan saat memuat data. Silakan coba lagi.")}}),v=()=>y(this,null,function*(){if(!g||!g.id){alert("Mohon pilih produk terlebih dahulu");return}if(!b||b<=0){alert("Mohon masukkan jumlah yang valid");return}D(!0);try{c==="in"?(yield at(g.id,parseInt(b),f),alert("Stok berhasil ditambahkan")):(yield rt(g.id,parseInt(b),f),alert("Stok berhasil dikurangi")),l(!1),k(),yield P()}catch(d){alert(d.message||"Terjadi kesalahan saat memperbarui stok")}finally{D(!1)}}),u=(d,O)=>{o(d),x(O),l(!0)},k=()=>{x(null),N(0),S("")},m=d=>d?new Date(d).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Manajemen Stok"}),e.jsx("p",{className:"page-subtitle",children:"Kelola stok produk dan pergerakan barang"})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Produk"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Produk"}),e.jsx("th",{children:"SKU"}),e.jsx("th",{children:"Stok Saat Ini"}),e.jsx("th",{children:"Min. Stok"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:s.map(d=>e.jsxs("tr",{style:{backgroundColor:d.stock<=d.minStock?"#fef2f2":""},children:[e.jsx("td",{children:e.jsx("div",{style:{fontWeight:"500"},children:d.name})}),e.jsx("td",{children:d.sku}),e.jsx("td",{children:e.jsxs("span",{style:{fontWeight:"bold",color:d.stock<=d.minStock?"#dc2626":"#1e293b"},children:[d.stock," ",d.unit]})}),e.jsxs("td",{children:[d.minStock," ",d.unit]}),e.jsx("td",{children:d.stock<=d.minStock?e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#fecaca",color:"#991b1b"},children:"Stok Rendah"}):e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#dcfce7",color:"#166534"},children:"Normal"})}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>u("in",d),className:"btn btn-success",style:{marginRight:"0.5rem",fontSize:"0.875rem"},children:"+ Masuk"}),e.jsx("button",{onClick:()=>u("out",d),className:"btn btn-danger",style:{fontSize:"0.875rem"},children:"- Keluar"})]})]},d.id))})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Riwayat Pergerakan Stok"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Waktu"}),e.jsx("th",{children:"Produk"}),e.jsx("th",{children:"Tipe"}),e.jsx("th",{children:"Jumlah"}),e.jsx("th",{children:"Keterangan"}),e.jsx("th",{children:"Oleh"})]})}),e.jsx("tbody",{children:t.map(d=>{var O,I,A;return e.jsxs("tr",{children:[e.jsx("td",{children:m(d.created_at)}),e.jsxs("td",{children:[e.jsx("div",{style:{fontWeight:"500"},children:((O=d.product)==null?void 0:O.name)||"-"}),e.jsx("div",{style:{color:"#64748b",fontSize:"0.875rem"},children:((I=d.product)==null?void 0:I.sku)||""})]}),e.jsx("td",{children:d.type==="in"?e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#dcfce7",color:"#166534"},children:"Masuk"}):e.jsx("span",{style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"600",borderRadius:"9999px",backgroundColor:"#fecaca",color:"#991b1b"},children:"Keluar"})}),e.jsxs("td",{children:[d.qty," ",((A=d.product)==null?void 0:A.unit)||""]}),e.jsx("td",{children:d.description||"-"}),e.jsx("td",{children:"-"})]},d.id)})})]})})]}),n&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"28rem",width:"100%"},children:e.jsxs("div",{style:{padding:"1.5rem"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e293b",marginBottom:"1rem"},children:c==="in"?"Stok Masuk":"Stok Keluar"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Produk"}),e.jsx("input",{type:"text",value:(g==null?void 0:g.name)||"",disabled:!0,className:"form-input",style:{backgroundColor:"#f3f4f6"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Stok Saat Ini"}),e.jsx("input",{type:"text",value:`${(g==null?void 0:g.stock)||0} ${(g==null?void 0:g.unit)||""}`,disabled:!0,className:"form-input",style:{backgroundColor:"#f3f4f6"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Jumlah"}),e.jsx("input",{type:"number",value:b,onChange:d=>N(parseInt(d.target.value)||0),className:"form-input",min:"1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Keterangan"}),e.jsx("textarea",{value:f,onChange:d=>S(d.target.value),className:"form-input",rows:"3",placeholder:"Opsional",style:{resize:"vertical"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",paddingTop:"1rem"},children:[e.jsx("button",{onClick:()=>{l(!1),k()},className:"btn btn-secondary",children:"Batal"}),e.jsx("button",{onClick:v,disabled:p,className:`btn ${c==="in"?"btn-success":"btn-danger"}`,style:{opacity:p?.6:1},children:p?"Memproses...":"Simpan"})]})]})]})})})]})}function mt(){const[s,a]=h.useState([]),[t,r]=h.useState([]),[n,l]=h.useState(""),[c,o]=h.useState([]),[g,x]=h.useState(!1),[b,N]=h.useState(""),[f,S]=h.useState(""),[p,D]=h.useState(null),[P,v]=h.useState(()=>{const i=localStorage.getItem("riwayatTransaksi"),j=i?JSON.parse(i):[];return Array.isArray(j)?j.sort((R,E)=>{const se=new Date((E==null?void 0:E.sentAt)||(E==null?void 0:E.created_at)||(E==null?void 0:E.date)||0).getTime(),L=new Date((R==null?void 0:R.sentAt)||(R==null?void 0:R.created_at)||(R==null?void 0:R.date)||0).getTime();return se-L}):[]}),[u,k]=h.useState(""),[m,d]=h.useState([]),[O,I]=h.useState("");h.useEffect(()=>{A();const i=localStorage.getItem("promoList");d(i?JSON.parse(i):[]);function j(){return y(this,null,function*(){const R=yield Y();o(R||[])})}j()},[]),h.useEffect(()=>{localStorage.setItem("riwayatTransaksi",JSON.stringify(P))},[P]);const A=()=>y(this,null,function*(){try{const i=yield re();a(i)}catch(i){a([])}}),_=i=>{const j=t.find(R=>R.productId===i.id);if(j){if(j.qty>=i.stock){alert("Stok tidak mencukupi");return}r(t.map(R=>R.productId===i.id?T(C({},R),{qty:R.qty+1,subtotal:(R.qty+1)*R.price}):R))}else{if(i.stock<1){alert("Stok habis");return}r([...t,{productId:i.id,name:i.name,price:i.sellPrice,qty:1,subtotal:i.sellPrice,stock:i.stock}])}},q=(i,j)=>{const R=t.find(E=>E.productId===i);if(j>R.stock){alert("Stok tidak mencukupi");return}if(j<=0){z(i);return}r(t.map(E=>E.productId===i?T(C({},E),{qty:j,subtotal:j*E.price}):E))},z=i=>{r(t.filter(j=>j.productId!==i))},F=O?(()=>{const i=m.find(R=>R.nama===O),j=t.reduce((R,E)=>R+E.subtotal,0);return i&&j>=(parseInt(i.minBelanja)||0)?i.tipe==="persen"?Math.round(j*(parseFloat(i.nilai)/100)):Math.min(parseInt(i.nilai),j):0})():parseInt(u)||0,J=i=>{D(i.id),N(i.customer),S(""),r((typeof i.items=="string"?JSON.parse(i.items):i.items).map(j=>C({},j))),k(""),I(i.promo||""),x(!0)},G=i=>y(this,null,function*(){if(i.preventDefault(),!b||t.length===0)return;p?(yield de(p),yield ce({id:p,customer:b,items:t,total:Number(t.reduce((R,E)=>R+(E.subtotal||E.qty*E.price),0)),created_at:new Date().toISOString(),status:"open"}),D(null)):yield ce({id:crypto.randomUUID(),customer:b,items:t,total:Number(t.reduce((R,E)=>R+(E.subtotal||E.qty*E.price),0)),created_at:new Date().toISOString(),status:"open"});const j=yield Y();o(j||[]),N(""),S(""),r([]),k(""),I(""),x(!1)}),te=i=>y(this,null,function*(){if(window.confirm("Yakin ingin menghapus order ini?")){yield de(i);const j=yield Y();o(j||[]),p===i&&(D(null),x(!1),N(""),S(""),r([]))}}),X=i=>y(this,null,function*(){try{const j=typeof i.items=="string"?JSON.parse(i.items):i.items,R=j.reduce((L,Z)=>L+(Z.subtotal||Z.qty*Z.price),0),E=Number(i.diskon)||0,se={items:j.map(L=>({productId:L.productId,name:L.name,qty:L.qty,price:L.price,subtotal:L.subtotal||L.qty*L.price})),paymentMethod:"tunai",subtotal:R,discount:E,total:Math.max(0,R-E),notes:i.notes||""};yield ge(se);try{yield it(i.id)}catch(L){}try{const L=yield Y();o(L||[])}catch(L){}v(L=>{const Z=Array.isArray(i.items)?i.items:typeof i.items=="string"?(()=>{try{return JSON.parse(i.items)}catch(K){return[]}})():[];return[T(C({},i),{items:Z,status:"sent",sentAt:new Date().toISOString()}),...L].sort((K,U)=>{const ye=new Date((U==null?void 0:U.sentAt)||(U==null?void 0:U.created_at)||(U==null?void 0:U.date)||0).getTime(),ve=new Date((K==null?void 0:K.sentAt)||(K==null?void 0:K.created_at)||(K==null?void 0:K.date)||0).getTime();return ye-ve})}),o(c.filter(L=>L.id!==i.id)),p===i.id&&(D(null),x(!1),N(""),S(""),r([])),alert("Order berhasil dikirim sebagai transaksi")}catch(j){alert(`Gagal mengirim order: ${(j==null?void 0:j.message)||"Unknown error"}`)}}),V=s.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.sku.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Open Order"}),e.jsx("p",{className:"page-subtitle",children:"Kelola pesanan yang belum selesai"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("div",{}),e.jsx("button",{onClick:()=>x(!0),className:"btn btn-primary",children:"+ Tambah Order"})]}),g&&e.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Order Baru"})}),e.jsxs("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nama Customer"}),e.jsx("input",{type:"text",value:b,onChange:i=>N(i.target.value),className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Cari & Tambah Produk"}),e.jsx("input",{type:"text",placeholder:"Cari produk...",value:n,onChange:i=>l(i.target.value),className:"form-input",style:{marginBottom:"0.5rem"}}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:V.map(i=>e.jsxs("button",{type:"button",onClick:()=>_(i),disabled:i.stock===0,style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",textAlign:"left",backgroundColor:i.stock===0?"#f3f4f6":"white",cursor:i.stock===0?"not-allowed":"pointer",opacity:i.stock===0?.6:1},onMouseEnter:j=>{i.stock>0&&(j.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",j.target.style.borderColor="#3b82f6")},onMouseLeave:j=>{i.stock>0&&(j.target.style.boxShadow="none",j.target.style.borderColor="#e5e7eb")},children:[e.jsx("div",{style:{fontWeight:"500",color:"#1e293b",marginBottom:"0.25rem"},children:i.name}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",marginBottom:"0.5rem"},children:i.sku}),e.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"bold",color:"#3b82f6"},children:i.sellPrice.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsxs("div",{style:{fontSize:"0.875rem",color:i.stock<=i.minStock?"#dc2626":"#64748b"},children:["Stok: ",i.stock]})]},i.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"0.5rem",marginTop:"1rem"},children:"Keranjang"}),t.length===0?e.jsx("p",{style:{color:"#64748b",textAlign:"center",padding:"1rem"},children:"Keranjang kosong"}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.map(i=>e.jsxs("div",{style:{borderBottom:"1px solid #e5e7eb",paddingBottom:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"500",color:"#1e293b"},children:i.name}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b"},children:i.price.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsx("button",{type:"button",onClick:()=>z(i.productId),style:{color:"#dc2626",cursor:"pointer"},onMouseEnter:j=>j.target.style.color="#991b1b",onMouseLeave:j=>j.target.style.color="#dc2626",children:"âœ•"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("button",{type:"button",onClick:()=>q(i.productId,i.qty-1),style:{width:"2rem",height:"2rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",border:"none",cursor:"pointer"},onMouseEnter:j=>j.target.style.backgroundColor="#d1d5db",onMouseLeave:j=>j.target.style.backgroundColor="#e5e7eb",children:"-"}),e.jsx("span",{style:{width:"3rem",textAlign:"center"},children:i.qty}),e.jsx("button",{type:"button",onClick:()=>q(i.productId,i.qty+1),style:{width:"2rem",height:"2rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",border:"none",cursor:"pointer"},onMouseEnter:j=>j.target.style.backgroundColor="#d1d5db",onMouseLeave:j=>j.target.style.backgroundColor="#e5e7eb",children:"+"})]}),e.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:i.subtotal.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]})]},i.productId))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem"},children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:t.reduce((i,j)=>i+j.subtotal,0).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[e.jsx("span",{children:"Diskon"}),e.jsxs("span",{style:{color:"#dc2626"},children:["- ",F.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"1.125rem",borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem"},children:[e.jsx("span",{children:"Total"}),e.jsx("span",{style:{color:"#3b82f6"},children:(t.reduce((i,j)=>i+j.subtotal,0)-F).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Catatan"}),e.jsx("input",{type:"text",value:f,onChange:i=>S(i.target.value),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Diskon Manual (Rp)"}),e.jsx("input",{type:"number",value:u,onChange:i=>k(i.target.value),className:"form-input",min:"0",disabled:!!O})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Pilih Promo"}),e.jsxs("select",{value:O,onChange:i=>I(i.target.value),className:"form-input",children:[e.jsx("option",{value:"",children:"-- Tidak Pakai Promo --"}),m.map((i,j)=>e.jsxs("option",{value:i.nama,children:[i.nama," (",i.tipe==="persen"?i.nilai+"%":"Rp"+parseInt(i.nilai).toLocaleString("id-ID"),")"]},j))]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:t.length===0,children:"Simpan Order"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn btn-secondary",children:"Batal"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Open Order"})}),c.length===0?e.jsx("div",{style:{color:"#64748b",textAlign:"center",padding:"2rem"},children:"Belum ada order terbuka"}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Waktu"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Pesanan"}),e.jsx("th",{children:"Catatan"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total Harga"}),e.jsx("th",{children:"Diskon"}),e.jsx("th",{style:{textAlign:"center"},children:"Aksi"})]})}),e.jsx("tbody",{children:c.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.created_at}),e.jsx("td",{children:i.customer}),e.jsx("td",{children:e.jsx("ul",{children:(typeof i.items=="string"?JSON.parse(i.items):i.items).map((j,R)=>e.jsxs("li",{children:[j.name," x ",j.qty]},R))})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("span",{style:{color:"#d97706",fontWeight:"600"},children:"Open"})}),e.jsx("td",{children:(typeof i.items=="string"?JSON.parse(i.items):i.items).reduce((j,R)=>j+(R.subtotal||R.qty*R.price),0).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsx("td",{children:"-"}),e.jsxs("td",{style:{textAlign:"center"},children:[e.jsx("button",{type:"button",onClick:()=>J(i),className:"btn btn-secondary",style:{marginRight:"0.5rem",fontSize:"0.875rem"},children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>te(i.id),className:"btn btn-danger",style:{marginRight:"0.5rem",fontSize:"0.875rem"},children:"Hapus"}),e.jsx("button",{type:"button",onClick:()=>X(i),className:"btn btn-success",style:{fontSize:"0.875rem"},children:"Kirim"})]})]},i.id))})]})})]})]})}function ht(){const[s,a]=h.useState([]),[t,r]=h.useState({namaProduk:"",bahan:[{nama:"",qty:""}]}),[n,l]=h.useState(null),[c,o]=h.useState([]),[g,x]=h.useState([]);h.useEffect(()=>{const v=localStorage.getItem("resepList");a(v?JSON.parse(v):[]);const u=localStorage.getItem("openOrders");o(u?JSON.parse(u):[])},[]),h.useEffect(()=>{localStorage.setItem("resepList",JSON.stringify(s)),P()},[s,c]);const b=(v,u,k)=>{const m=[...t.bahan];m[v][u]=k,r(T(C({},t),{bahan:m}))},N=()=>{r(T(C({},t),{bahan:[...t.bahan,{nama:"",qty:""}]}))},f=v=>{r(T(C({},t),{bahan:t.bahan.filter((u,k)=>k!==v)}))},S=v=>{if(v.preventDefault(),!(!t.namaProduk||t.bahan.some(u=>!u.nama||!u.qty))){if(n!==null){const u=[...s];u[n]=T(C({},t),{bahan:t.bahan.map(k=>T(C({},k),{qty:parseFloat(k.qty)}))}),a(u),l(null)}else a([...s,T(C({},t),{bahan:t.bahan.map(u=>T(C({},u),{qty:parseFloat(u.qty)}))})]);r({namaProduk:"",bahan:[{nama:"",qty:""}]})}},p=v=>{r(T(C({},s[v]),{bahan:s[v].bahan.map(u=>C({},u))})),l(v)},D=v=>{window.confirm("Hapus resep ini?")&&(a(s.filter((u,k)=>k!==v)),l(null),r({namaProduk:"",bahan:[{nama:"",qty:""}]}))},P=()=>{const v={};c.forEach(k=>{(typeof k.items=="string"?JSON.parse(k.items):k.items).forEach(d=>{v[d.name]=(v[d.name]||0)+d.qty})});const u={};s.forEach(k=>{const m=v[k.namaProduk]||0;k.bahan.forEach(d=>{u[d.nama]=(u[d.nama]||0)+m*d.qty})}),x(Object.entries(u).map(([k,m])=>({nama:k,qty:m})))};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Belanja Bahan & Resep"}),e.jsx("p",{className:"page-subtitle",children:"Kelola resep dan hitung kebutuhan bahan"})]}),e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nama Produk"}),e.jsx("input",{type:"text",value:t.namaProduk,onChange:v=>r(T(C({},t),{namaProduk:v.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Daftar Bahan"}),t.bahan.map((v,u)=>e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Nama Bahan",value:v.nama,onChange:k=>b(u,"nama",k.target.value),className:"form-input",required:!0}),e.jsx("input",{type:"number",placeholder:"Qty per Produk",value:v.qty,onChange:k=>b(u,"qty",k.target.value),className:"form-input",style:{width:"8rem"},min:"0",required:!0}),t.bahan.length>1&&e.jsx("button",{type:"button",onClick:()=>f(u),className:"btn btn-danger",style:{fontSize:"0.875rem"},children:"Hapus"})]},u)),e.jsx("button",{type:"button",onClick:N,className:"btn btn-primary",style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:"Tambah Bahan"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",paddingTop:"0.5rem"},children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[n!==null?"Update":"Tambah"," Resep"]}),n!==null&&e.jsx("button",{type:"button",onClick:()=>{l(null),r({namaProduk:"",bahan:[{nama:"",qty:""}]})},className:"btn btn-secondary",children:"Batal"})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Resep Produk"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Produk"}),e.jsx("th",{children:"Bahan"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:s.map((v,u)=>e.jsxs("tr",{children:[e.jsx("td",{children:v.namaProduk}),e.jsx("td",{children:e.jsx("ul",{style:{listStyleType:"disc",paddingLeft:"1rem"},children:v.bahan.map((k,m)=>e.jsxs("li",{children:[k.nama," x ",k.qty]},m))})}),e.jsxs("td",{style:{textAlign:"center"},children:[e.jsx("button",{onClick:()=>p(u),className:"btn btn-secondary",style:{marginRight:"0.5rem",fontSize:"0.875rem"},children:"Edit"}),e.jsx("button",{onClick:()=>D(u),className:"btn btn-danger",style:{fontSize:"0.875rem"},children:"Hapus"})]})]},u))})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Kebutuhan Belanja Bahan (berdasarkan Open Order)"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nama Bahan"}),e.jsx("th",{children:"Total Qty"})]})}),e.jsx("tbody",{children:g.map((v,u)=>e.jsxs("tr",{children:[e.jsx("td",{children:v.nama}),e.jsx("td",{style:{textAlign:"right"},children:v.qty})]},u))})]})})]})]})}function H(s){return Math.round(s*100)/100}function ut(){const[s,a]=h.useState(""),[t,r]=h.useState([]),[n,l]=h.useState({nama:"",jumlah:"",harga:""}),[c,o]=h.useState(""),[g,x]=h.useState(""),[b,N]=h.useState(""),[f,S]=h.useState(""),[p,D]=h.useState(""),[P,v]=h.useState(null),u=d=>{d.preventDefault(),!(!n.nama||!n.jumlah||!n.harga)&&(r([...t,T(C({},n),{jumlah:parseFloat(n.jumlah),harga:parseFloat(n.harga)})]),l({nama:"",jumlah:"",harga:""}))},k=d=>{r(t.filter((O,I)=>I!==d))},m=d=>{d.preventDefault();const O=t.reduce((V,i)=>V+i.jumlah*i.harga,0),I=t.reduce((V,i)=>V+i.jumlah,0),A=parseFloat(c)||0,_=parseFloat(b)||1,q=parseFloat(g)&&_?parseFloat(g)/_:0,z=parseFloat(f)&&_?parseFloat(f)/_:0,$=I>0?O/I:0,F=$+A+q+z,J=parseFloat(p)||0,G=F*1.2,te=F/(1-J/100),X=F*1.1;v({namaProduk:s,rincian:{bahanPerUnit:H($),packagingPerUnit:H(A),tenagaKerjaPerUnit:H(q),overheadPerUnit:H(z),hpp:H(F),margin:J},opsi:[{strategi:"Markup Sederhana (20%)",harga:H(G),margin:H((G-F)/G*100),kelebihan:"Mudah, cepat, cocok untuk produk umum",risiko:"Kurang kompetitif jika harga pasar lebih rendah"},{strategi:`Margin Target (${J}%)`,harga:H(te),margin:J,kelebihan:"Sesuai target profit, lebih terukur",risiko:"Harga bisa terlalu tinggi jika margin besar"},{strategi:"Kompetitif (10%)",harga:H(X),margin:H((X-F)/X*100),kelebihan:"Lebih bersaing, cocok untuk pasar sensitif harga",risiko:"Margin lebih tipis, profit kecil"}]})};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Kalkulator HPP Lanjutan"}),e.jsx("p",{className:"page-subtitle",children:"Hitung Harga Pokok Penjualan dengan detail"})]}),e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nama Produk"}),e.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Daftar Bahan"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Nama Bahan",value:n.nama,onChange:d=>l(T(C({},n),{nama:d.target.value})),className:"form-input"}),e.jsx("input",{type:"number",placeholder:"Jumlah",value:n.jumlah,onChange:d=>l(T(C({},n),{jumlah:d.target.value})),className:"form-input",style:{width:"6rem"},min:"0"}),e.jsx("input",{type:"number",placeholder:"Harga Satuan",value:n.harga,onChange:d=>l(T(C({},n),{harga:d.target.value})),className:"form-input",style:{width:"8rem"},min:"0"}),e.jsx("button",{onClick:u,className:"btn btn-primary",style:{fontSize:"0.875rem"},children:"Tambah"})]}),t.length>0&&e.jsx("div",{style:{overflowX:"auto",marginBottom:"0.5rem"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nama"}),e.jsx("th",{children:"Jumlah"}),e.jsx("th",{children:"Harga Satuan"}),e.jsx("th",{children:"Subtotal"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:t.map((d,O)=>e.jsxs("tr",{children:[e.jsx("td",{children:d.nama}),e.jsx("td",{style:{textAlign:"center"},children:d.jumlah}),e.jsx("td",{style:{textAlign:"right"},children:d.harga.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsx("td",{style:{textAlign:"right"},children:(d.jumlah*d.harga).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsx("td",{style:{textAlign:"center"},children:e.jsx("button",{type:"button",onClick:()=>k(O),className:"btn btn-danger",style:{fontSize:"0.875rem"},children:"Hapus"})})]},O))})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Biaya Packaging per Unit"}),e.jsx("input",{type:"number",value:c,onChange:d=>o(d.target.value),className:"form-input",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Biaya Tenaga Kerja per Hari"}),e.jsx("input",{type:"number",value:g,onChange:d=>x(d.target.value),className:"form-input",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Biaya Overhead per Hari"}),e.jsx("input",{type:"number",value:f,onChange:d=>S(d.target.value),className:"form-input",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kapasitas Produksi (unit/hari)"}),e.jsx("input",{type:"number",value:b,onChange:d=>N(d.target.value),className:"form-input",min:"1",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Target Margin (%)"}),e.jsx("input",{type:"number",value:p,onChange:d=>D(d.target.value),className:"form-input",min:"0",max:"100"})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},children:"Hitung HPP"})]})}),P&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Hasil Perhitungan HPP"})}),e.jsx("div",{style:{overflowX:"auto",marginBottom:"1rem"},children:e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:"Nama Produk"}),e.jsx("td",{children:P.namaProduk})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:"HPP Bahan per Unit"}),e.jsx("td",{children:P.rincian.bahanPerUnit.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:"Packaging per Unit"}),e.jsx("td",{children:P.rincian.packagingPerUnit.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:"Tenaga Kerja per Unit"}),e.jsx("td",{children:P.rincian.tenagaKerjaPerUnit.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"500"},children:"Overhead per Unit"}),e.jsx("td",{children:P.rincian.overheadPerUnit.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]}),e.jsxs("tr",{style:{backgroundColor:"#dbeafe",fontWeight:"bold"},children:[e.jsx("td",{children:"HPP Total per Unit"}),e.jsx("td",{children:P.rincian.hpp.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})]})]})})}),e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"Opsi Harga Jual"}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Strategi"}),e.jsx("th",{children:"Harga Jual"}),e.jsx("th",{children:"Margin (%)"}),e.jsx("th",{children:"Kelebihan"}),e.jsx("th",{children:"Risiko"})]})}),e.jsx("tbody",{children:P.opsi.map((d,O)=>e.jsxs("tr",{children:[e.jsx("td",{children:d.strategi}),e.jsx("td",{style:{textAlign:"right"},children:d.harga.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsxs("td",{style:{textAlign:"center"},children:[d.margin,"%"]}),e.jsx("td",{children:d.kelebihan}),e.jsx("td",{children:d.risiko})]},O))})]})}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"#dbeafe",borderRadius:"0.5rem"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Prompt:"}),e.jsxs("div",{style:{color:"#1e293b"},children:["Produk ",e.jsx("b",{children:P.namaProduk})," dengan HPP ",e.jsx("b",{children:P.rincian.hpp.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})})," per unit. Target margin ",P.rincian.margin,"%.",e.jsx("br",{}),"Berikan 3 opsi harga jual dengan strategi berbeda (markup sederhana, margin target, kompetitif) beserta kelebihan dan risikonya."]})]})]})]})}function pt(){const[s,a]=h.useState([]),[t,r]=h.useState({nama:"",tipe:"persen",nilai:"",mulai:"",selesai:"",minBelanja:""}),[n,l]=h.useState(null);h.useEffect(()=>{const x=localStorage.getItem("promoList");a(x?JSON.parse(x):[])},[]),h.useEffect(()=>{localStorage.setItem("promoList",JSON.stringify(s))},[s]);const c=x=>{if(x.preventDefault(),!(!t.nama||!t.nilai||!t.mulai||!t.selesai)){if(n!==null){const b=[...s];b[n]=C({},t),a(b),l(null)}else a([...s,C({},t)]);r({nama:"",tipe:"persen",nilai:"",mulai:"",selesai:"",minBelanja:""})}},o=x=>{r(C({},s[x])),l(x)},g=x=>{window.confirm("Hapus promo ini?")&&(a(s.filter((b,N)=>N!==x)),l(null),r({nama:"",tipe:"persen",nilai:"",mulai:"",selesai:"",minBelanja:""}))};return e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Manajemen Promo"}),e.jsx("p",{className:"page-subtitle",children:"Kelola promo dan diskon"})]}),e.jsx("div",{className:"card",children:e.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nama Promo"}),e.jsx("input",{type:"text",value:t.nama,onChange:x=>r(T(C({},t),{nama:x.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tipe Promo"}),e.jsxs("select",{value:t.tipe,onChange:x=>r(T(C({},t),{tipe:x.target.value})),className:"form-input",children:[e.jsx("option",{value:"persen",children:"Diskon Persen (%)"}),e.jsx("option",{value:"nominal",children:"Diskon Nominal (Rp)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nilai Promo"}),e.jsx("input",{type:"number",value:t.nilai,onChange:x=>r(T(C({},t),{nilai:x.target.value})),className:"form-input",required:!0,min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Minimal Belanja"}),e.jsx("input",{type:"number",value:t.minBelanja,onChange:x=>r(T(C({},t),{minBelanja:x.target.value})),className:"form-input",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Periode Mulai"}),e.jsx("input",{type:"date",value:t.mulai,onChange:x=>r(T(C({},t),{mulai:x.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Periode Selesai"}),e.jsx("input",{type:"date",value:t.selesai,onChange:x=>r(T(C({},t),{selesai:x.target.value})),className:"form-input",required:!0})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",paddingTop:"0.5rem"},children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[n!==null?"Update":"Tambah"," Promo"]}),n!==null&&e.jsx("button",{type:"button",onClick:()=>{l(null),r({nama:"",tipe:"persen",nilai:"",mulai:"",selesai:"",minBelanja:""})},className:"btn btn-secondary",children:"Batal"})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Promo Aktif"})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nama"}),e.jsx("th",{children:"Tipe"}),e.jsx("th",{children:"Nilai"}),e.jsx("th",{children:"Min. Belanja"}),e.jsx("th",{children:"Periode"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:s.map((x,b)=>e.jsxs("tr",{children:[e.jsx("td",{children:x.nama}),e.jsx("td",{children:x.tipe==="persen"?"Persen":"Nominal"}),e.jsx("td",{style:{textAlign:"right"},children:x.tipe==="persen"?x.nilai+" %":parseInt(x.nilai).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),e.jsx("td",{style:{textAlign:"right"},children:x.minBelanja?parseInt(x.minBelanja).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}):"-"}),e.jsxs("td",{children:[x.mulai," s/d ",x.selesai]}),e.jsxs("td",{style:{textAlign:"center"},children:[e.jsx("button",{onClick:()=>o(b),className:"btn btn-secondary",style:{marginRight:"0.5rem",fontSize:"0.875rem"},children:"Edit"}),e.jsx("button",{onClick:()=>g(b),className:"btn btn-danger",style:{fontSize:"0.875rem"},children:"Hapus"})]})]},b))})]})})]})]})}function xt(){const[s,a]=h.useState([]);return h.useEffect(()=>{let t=!0;return y(this,null,function*(){const r=yield nt();if(t){const l=(Array.isArray(r)?r:[]).map(c=>T(C({},c),{items:Array.isArray(c.items)?c.items:[],created_at:c.created_at||c.createdAt||null})).sort((c,o)=>new Date(o.created_at||0)-new Date(c.created_at||0));a(l)}}),()=>{t=!1}},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Riwayat Transaksi"}),e.jsx("p",{className:"page-subtitle",children:"Lihat semua transaksi yang telah dilakukan"})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Daftar Semua Transaksi"})}),s.length===0?e.jsx("div",{style:{color:"#64748b",textAlign:"center",padding:"2rem"},children:"Belum ada transaksi"}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Waktu Transaksi"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Pesanan"}),e.jsx("th",{children:"Catatan"}),e.jsx("th",{style:{textAlign:"center"},children:"Sumber"}),e.jsx("th",{style:{textAlign:"center"},children:"Status"}),e.jsx("th",{style:{textAlign:"center"},children:"Aksi"})]})}),e.jsx("tbody",{children:s.map((t,r)=>e.jsxs("tr",{style:{backgroundColor:r%2===0?"white":"#f9fafb"},children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.created_at||t.createdAt?new Date(t.created_at||t.createdAt).toLocaleString("id-ID",{timeZone:"Asia/Jakarta"}):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.customer||"-"}),e.jsx("td",{children:e.jsx("ul",{style:{listStyleType:"disc",paddingLeft:"1.25rem"},children:(t.items||[]).map((n,l)=>e.jsxs("li",{children:[n.name," ",e.jsxs("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:["x ",n.qty]})]},l))})}),e.jsx("td",{children:t.notes||"-"}),e.jsx("td",{style:{textAlign:"center"},children:t.status==="pos"?e.jsx("span",{style:{display:"inline-block",backgroundColor:"#dbeafe",color:"#1d4ed8",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"POS"}):t.status==="open"||t.status==="open_order"?e.jsx("span",{style:{display:"inline-block",backgroundColor:"#dcfce7",color:"#166534",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"Open Order"}):e.jsx("span",{style:{display:"inline-block",backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:t.status||"-"})}),e.jsx("td",{style:{textAlign:"center"},children:t.status==="pos"?e.jsx("span",{style:{display:"inline-block",backgroundColor:"#2563eb",color:"white",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"Lunas"}):e.jsx("span",{style:{display:"inline-block",backgroundColor:"#16a34a",color:"white",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"Terkirim"})}),e.jsx("td",{style:{textAlign:"center"},children:e.jsx("button",{type:"button",className:"btn btn-primary",style:{fontSize:"0.75rem"},onClick:()=>{const n=N=>N.toLocaleString("id-ID",{minimumFractionDigits:0});(t.sentAt||t.created_at||t.createdAt||"").replace(/\D/g,"").slice(0,12);const l=`${(t.created_at||t.createdAt||"").slice(0,10).replace(/-/g,"")}-${String(t.id).slice(-3)}`,c=t.kasir||"-";t.paymentMethod&&t.paymentMethod.toUpperCase(),t.status;const o=(t.items||[]).reduce((N,f)=>N+(f.subtotal||f.qty*f.price),0),g=t.diskon||0,x=o-g,b=window.open("","","width=400,height=700");b.document.write(`
                          <html><head><title>Struk Transaksi</title>
                          <style>
                          body{font-family:Arial,sans-serif;font-size:12px;margin:0;padding:10px} .center{text-align:center} .bold{font-weight:bold}
                          .line{border-top:1px dashed #000;margin:6px 0} .item-row{display:flex;justify-content:space-between}
                          .item-name{flex:1} .item-qty{width:40px;text-align:center} .item-total{width:80px;text-align:right}
                          </style></head><body>
                          <div class='center bold'>JUSGO</div>
                          <div class='center'>Jl. Contoh No. 123</div>
                          <div class='line'></div>
                          <div>No. Transaksi : ${l}</div>
                          <div>Tanggal       : ${(t.sentAt||t.created_at||t.createdAt||"").slice(0,16)}</div>
                          <div>Kasir         : ${c}</div>
                          <div class='line'></div>
                          <div class='item-row bold'><span class='item-name'>Item</span><span class='item-qty'>Qty</span><span class='item-total'>Total</span></div>
                          <div class='line'></div>
                          ${(t.items||[]).map(N=>`
                            <div class='item-row'>
                              <span class='item-name'>${N.name}</span>
                              <span class='item-qty'>${N.qty}</span>
                              <span class='item-total'>${n(N.subtotal||N.qty*N.price)}</span>
                            </div>
                          `).join("")}
                          <div class='line'></div>
                          <div class='item-row'><span class='item-name bold'>Subtotal</span><span></span><span class='item-total'>${n(o)}</span></div>
                          <div class='item-row'><span class='item-name'>Diskon</span><span></span><span class='item-total'>${n(g)}</span></div>
                          <div class='item-row bold'><span class='item-name'>Total</span><span></span><span class='item-total'>${n(x)}</span></div>
                          <div class='line'></div>
                          <div class='center'>Terima kasih!</div>
                          </body></html>`),b.document.close(),b.focus(),b.print(),b.close()},children:"Cetak"})})]},t.id))})]})})]})]})}const je=()=>y(M,null,function*(){try{if(!w)throw new Error("Supabase client not initialized");const{data:s,error:a}=yield w.from("products").select("*").limit(1);return a?{success:!1,error:a.message,details:a}:{success:!0,message:"Supabase connection successful",data:s,count:s?s.length:0}}catch(s){return{success:!1,error:s.message,details:s}}}),fe=()=>y(M,null,function*(){try{const{count:s,error:a}=yield w.from("products").select("*",{count:"exact",head:!0});if(a)return{success:!1,error:a.message,details:a};const{data:t,error:r}=yield w.from("products").select("*").limit(5);return r?{success:!1,error:r.message,details:r}:{success:!0,message:"Products table accessible",data:t,count:s||0}}catch(s){return{success:!1,error:s.message,details:s}}}),be=()=>y(M,null,function*(){try{const s={name:"Test Product",sku:"TEST001",price:1e4,stock:10,min_stock:5,category:"Test",description:"Test product for CRUD operations"},{data:a,error:t}=yield w.from("products").insert([s]).select().single();if(t)return{success:!1,error:t.message,operation:"CREATE"};const{data:r,error:n}=yield w.from("products").select("*").eq("id",a.id).single();if(n)return{success:!1,error:n.message,operation:"READ"};const{data:l,error:c}=yield w.from("products").update({name:"Updated Test Product"}).eq("id",a.id).select().single();if(c)return{success:!1,error:c.message,operation:"UPDATE"};const{error:o}=yield w.from("products").delete().eq("id",a.id);return o?{success:!1,error:o.message,operation:"DELETE"}:{success:!0,message:"All CRUD operations successful",operations:["CREATE","READ","UPDATE","DELETE"]}}catch(s){return{success:!1,error:s.message,details:s}}}),gt=()=>y(M,null,function*(){return{connection:yield je(),table:yield fe(),crud:yield be()}}),jt=()=>{const[s,a]=h.useState(null),[t,r]=h.useState(!1),n=l=>y(M,null,function*(){r(!0),a(null);try{let c;switch(l){case"connection":c=yield je();break;case"table":c=yield fe();break;case"crud":c=yield be();break;case"all":c=yield gt();break;default:c={success:!1,error:"Invalid test type"}}a(c)}catch(c){a({success:!1,error:c.message,details:c})}finally{r(!1)}});return e.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{children:"ðŸ” Supabase Connection Test"}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("button",{onClick:()=>n("connection"),disabled:t,style:{marginRight:"1rem",padding:"0.5rem 1rem"},children:"Test Connection"}),e.jsx("button",{onClick:()=>n("table"),disabled:t,style:{marginRight:"1rem",padding:"0.5rem 1rem"},children:"Test Products Table"}),e.jsx("button",{onClick:()=>n("crud"),disabled:t,style:{marginRight:"1rem",padding:"0.5rem 1rem"},children:"Test CRUD Operations"}),e.jsx("button",{onClick:()=>n("all"),disabled:t,style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none"},children:"Run All Tests"})]}),t&&e.jsx("div",{style:{padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:"ðŸ”„ Running tests..."}),s&&e.jsxs("div",{style:{padding:"1rem",backgroundColor:s.success?"#d4edda":"#f8d7da",border:`1px solid ${s.success?"#c3e6cb":"#f5c6cb"}`,borderRadius:"4px",marginTop:"1rem"},children:[e.jsx("h3",{style:{color:s.success?"#155724":"#721c24"},children:s.success?"âœ… Success":"âŒ Error"}),s.message&&e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",s.message]}),s.error&&e.jsxs("p",{children:[e.jsx("strong",{children:"Error:"})," ",s.error]}),s.data&&e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Data:"})}),e.jsx("pre",{style:{backgroundColor:"#f8f9fa",padding:"0.5rem",borderRadius:"4px",overflow:"auto",maxHeight:"200px"},children:JSON.stringify(s.data,null,2)})]}),s.details&&e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Details:"})}),e.jsx("pre",{style:{backgroundColor:"#f8f9fa",padding:"0.5rem",borderRadius:"4px",overflow:"auto",maxHeight:"200px"},children:JSON.stringify(s.details,null,2)})]})]})]})};function ft(){return e.jsx(Ee,{children:e.jsxs(Me,{children:[e.jsx(B,{path:"/login",element:e.jsx(Ge,{})}),e.jsx(B,{path:"/supabase-test",element:e.jsx(jt,{})}),e.jsx(B,{path:"/",element:e.jsx(he,{to:"/dashboard",replace:!0})}),e.jsxs(B,{path:"/",element:e.jsx($e,{}),children:[e.jsx(B,{path:"dashboard",element:e.jsx(W,{children:e.jsx(Ye,{})})}),e.jsx(B,{path:"products",element:e.jsx(W,{children:e.jsx(tt,{})})}),e.jsx(B,{path:"pos",element:e.jsx(W,{children:e.jsx(lt,{})})}),e.jsx(B,{path:"transactions",element:e.jsx(W,{children:e.jsx(ot,{})})}),e.jsx(B,{path:"reports",element:e.jsx(W,{children:e.jsx(ct,{})})}),e.jsx(B,{path:"stock",element:e.jsx(W,{children:e.jsx(dt,{})})}),e.jsx(B,{path:"open-order",element:e.jsx(W,{children:e.jsx(mt,{})})}),e.jsx(B,{path:"belanja-bahan",element:e.jsx(W,{children:e.jsx(ht,{})})}),e.jsx(B,{path:"kalkulator-hpp",element:e.jsx(W,{children:e.jsx(ut,{})})}),e.jsx(B,{path:"promo",element:e.jsx(W,{children:e.jsx(pt,{})})}),e.jsx(B,{path:"riwayat-transaksi",element:e.jsx(W,{children:e.jsx(xt,{})})})]})]})})}ae.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(ft,{})}))});export default bt();
